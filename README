## by Beat KÃ¼ng
# 16.05.2010

The navilock reader is a command line tool to manage a Navilock NL-130BK
GPS Tracking device under linux. The main tasks are to store tracks
in gpx or text file format and deleting old tracks.


== compile & install the kernel module ==

Note: If you have kernel 2.6.32 or newer (with option "USB Modem (CDC ACM) support"
enabled) you don't need the included kernel module from this package. Just connect the 
device.
if you run dmesg you should see something like this:
	cdc_acm 2-1.2:1.0: ttyACM0: USB ACM device
if so, the device is /dev/ttyACM0

To communicate with the device, a kernel module needs to be built and started, 
before you can download any tracks.

build the module with (kernel source headers must be installed):
$ cd serial_driver
$ make

if you see something like:
make: Nothing to be done for `default'.
you need to install the kernel source

now you can install the module with
# sudo make install

plug in the device and check if everything works:
$ dmesg 
output should contain something like:
usb 3-2: navilock converter now attached to ttyUSB1

= run the kernel module without installation =

this module depends on the usbserial module, so you need to load it first:
# modprobe usbserial

load navilock module:
# insmod navilock.ko

unload the module:
# rmmod navilock



== navilock reader ==

the navilock reader is used to read the tracks from the navilock device and stores them
on the harddisk.


compile navilock reader:
$ cd reader
$ make

if everything worked you should now be able to use navilock_reader.
type
$ ./navilock_reader
without any arguments to see the supported parameters. If you are not using any other 
usb serial devices, the device most likely is called /dev/ttyUSB1.

the script get_tracks can be used to get the newest tracks and save them to reader/tracks/



== firmware ==

the navilock reader was tested with the firmware
61718 - NL-130BK Firmware update V010


== miscellaneous ==

if you have any improvements or suggestions you are welcome to 
implement them and/or contact me




